<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">
    <style>
        @keyframes build-up {
            0% {
                transform: translateY(25px);
                opacity: 0;
            }
            60% {
                transform: translateY(-3px);
                opacity: 1;
            }
            80% {
                transform: translateY(1px);
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes roof-drop {
            0% {
                transform: translateY(-20px) scaleX(0.8);
                opacity: 0;
            }
            50% {
                transform: translateY(2px) scaleX(1.02);
                opacity: 1;
            }
            70% {
                transform: translateY(-1px) scaleX(0.99);
            }
            100% {
                transform: translateY(0) scaleX(1);
                opacity: 1;
            }
        }

        @keyframes chimney-rise {
            0% {
                transform: scaleY(0);
                opacity: 0;
            }
            100% {
                transform: scaleY(1);
                opacity: 1;
            }
        }

        @keyframes smoke-float {
            0% {
                transform: translateY(0) scale(0.5);
                opacity: 0;
            }
            30% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(-18px) scale(1.2);
                opacity: 0;
            }
        }

        @keyframes window-glow {
            0% { fill: #0C0A09; }
            100% { fill: #EAB308; opacity: 0.6; }
        }

        .build-layer-1, .build-layer-2, .build-layer-3,
        .build-layer-4, .build-layer-5 {
            opacity: 0;
            transform: translateY(25px);
        }

        .anim-group:hover .build-layer-1 {
            animation: build-up 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        .anim-group:hover .build-layer-2 {
            animation: build-up 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s forwards;
        }
        .anim-group:hover .build-layer-3 {
            animation: roof-drop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards;
            transform-origin: center bottom;
        }
        .anim-group:hover .build-layer-4 {
            animation: chimney-rise 0.3s ease-out 0.55s forwards;
            transform-origin: center bottom;
            transform: scaleY(0);
        }
        .anim-group:hover .build-layer-5 {
            animation: smoke-float 2s ease-out 0.8s infinite;
        }
        .anim-group:hover .window-light {
            animation: window-glow 0.5s ease-out 0.5s forwards;
        }
    </style>

    <defs>
        <linearGradient id="wallGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#F5F5F4"/>
            <stop offset="100%" stop-color="#D6D3D1"/>
        </linearGradient>
        <linearGradient id="roofGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#EAB308"/>
            <stop offset="100%" stop-color="#CA8A04"/>
        </linearGradient>
    </defs>

    <g class="anim-group" cursor="pointer">
        <!-- Transparent hover hit-area -->
        <rect width="120" height="120" fill="transparent"/>

        <!-- Ground -->
        <rect x="8" y="104" width="104" height="4" rx="1" fill="#44403C" opacity="0.6"/>

        <!-- First Floor (Layer 1) -->
        <g class="build-layer-1" transform="translate(16, 72)">
            <!-- Wall -->
            <rect width="88" height="32" rx="1" fill="url(#wallGrad)"/>
            <!-- Wall shadow -->
            <rect width="88" height="32" rx="1" fill="#0C0A09" opacity="0.04"/>
            <!-- Door frame -->
            <rect x="36" y="6" width="16" height="26" rx="1" fill="#EAB308"/>
            <rect x="38" y="8" width="12" height="24" rx="0.5" fill="#CA8A04" opacity="0.3"/>
            <!-- Door handle -->
            <circle cx="47" cy="22" r="1.2" fill="#0C0A09" opacity="0.6"/>
            <!-- Left window -->
            <rect x="8" y="10" width="18" height="14" rx="1" fill="#0C0A09" class="window-light"/>
            <line x1="17" y1="10" x2="17" y2="24" stroke="#44403C" stroke-width="0.8"/>
            <line x1="8" y1="17" x2="26" y2="17" stroke="#44403C" stroke-width="0.8"/>
            <!-- Right window -->
            <rect x="62" y="10" width="18" height="14" rx="1" fill="#0C0A09" class="window-light" style="animation-delay: 0.6s"/>
            <line x1="71" y1="10" x2="71" y2="24" stroke="#44403C" stroke-width="0.8"/>
            <line x1="62" y1="17" x2="80" y2="17" stroke="#44403C" stroke-width="0.8"/>
            <!-- Floor separator -->
            <line x1="0" y1="0" x2="88" y2="0" stroke="#A8A29E" stroke-width="0.5" opacity="0.4"/>
        </g>

        <!-- Second Floor (Layer 2) -->
        <g class="build-layer-2" transform="translate(16, 40)">
            <!-- Wall -->
            <rect width="88" height="32" rx="1" fill="url(#wallGrad)"/>
            <rect width="88" height="32" rx="1" fill="#0C0A09" opacity="0.06"/>
            <!-- Three windows -->
            <rect x="8" y="8" width="16" height="16" rx="1" fill="#0C0A09" class="window-light" style="animation-delay: 0.7s"/>
            <line x1="16" y1="8" x2="16" y2="24" stroke="#44403C" stroke-width="0.7"/>
            <line x1="8" y1="16" x2="24" y2="16" stroke="#44403C" stroke-width="0.7"/>

            <rect x="36" y="8" width="16" height="16" rx="1" fill="#0C0A09" class="window-light" style="animation-delay: 0.8s"/>
            <line x1="44" y1="8" x2="44" y2="24" stroke="#44403C" stroke-width="0.7"/>
            <line x1="36" y1="16" x2="52" y2="16" stroke="#44403C" stroke-width="0.7"/>

            <rect x="64" y="8" width="16" height="16" rx="1" fill="#0C0A09" class="window-light" style="animation-delay: 0.9s"/>
            <line x1="72" y1="8" x2="72" y2="24" stroke="#44403C" stroke-width="0.7"/>
            <line x1="64" y1="16" x2="80" y2="16" stroke="#44403C" stroke-width="0.7"/>

            <!-- Floor separator -->
            <line x1="0" y1="32" x2="88" y2="32" stroke="#A8A29E" stroke-width="0.5" opacity="0.3"/>
        </g>

        <!-- Roof (Layer 3) -->
        <g class="build-layer-3">
            <polygon points="60,18 108,42 12,42" fill="url(#roofGrad)"/>
            <!-- Roof ridge highlight -->
            <line x1="60" y1="18" x2="60" y2="42" stroke="#F5F5F4" stroke-width="0.5" opacity="0.2"/>
            <!-- Eave shadow -->
            <line x1="12" y1="42" x2="108" y2="42" stroke="#0C0A09" stroke-width="1" opacity="0.15"/>
        </g>

        <!-- Chimney (Layer 4) -->
        <g class="build-layer-4" transform="translate(78, 14)">
            <rect width="10" height="20" rx="1" fill="#44403C"/>
            <rect x="1" width="8" height="3" rx="0.5" fill="#A8A29E" opacity="0.4"/>
        </g>

        <!-- Smoke (Layer 5) -->
        <g class="build-layer-5">
            <circle cx="83" cy="12" r="3" fill="#A8A29E" opacity="0"/>
            <circle cx="86" cy="8" r="2" fill="#A8A29E" opacity="0" style="animation-delay: 0.3s"/>
        </g>
    </g>
</svg>
